<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PERSONALfit — Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2964/2964514.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <aside class="sidebar">
    <h2 class="logo">
<i class="fa-solid fa-bowl-rice"></i></i> PERSONALfit
    </h2>
    
    <nav>
      <a href="index.html" class="active"><i class="fa-solid fa-user"></i> Perfil</a>
      <a href="registro.html"><i class="fa-solid fa-utensils"></i> Registro</a>
      <a href="progresso.html"><i class="fa-solid fa-chart-line"></i> Progresso</a>
      <a href="referencias.html"><i class="fa-solid fa-book-open"></i> Referências</a> 
    </nav>
    
    <div class="settings-controls">
      <h4>Visual</h4>
      <div class="control-group">
        <label>Modo Escuro:</label>
        <button id="toggle-dark-mode" class="icon-btn"><i class="fa-solid fa-lightbulb"></i></button>
      </div>
      <div class="control-group">
        <label>Fonte:</label>
        <button id="font-size-decrease" class="icon-btn">A-</button>
        <button id="font-size-increase" class="icon-btn">A+</button>
      </div>
    </div>
    
    <div class="settings-controls">
        <h4>Dados</h4>
        <div class="control-group">
            <button id="novo-usuario-btn" class="btn secondary full-width">Limpar Dados</button>
        </div>
    </div>
  </aside>

  <main class="main-content">
    <header>
      <div>
          <h1>Seu Perfil</h1>
          <p class="header-date" id="today-date"></p>
      </div>
      <div id="auth-container"></div>
    </header>

    <section class="card">
        <h3>Configurar Perfil e Metas</h3>
        <form id="perfil-form">
          <div class="input-row">
            <div class="input-group">
              <label for="sexo">Sexo:</label>
              <select id="sexo" required>
                <option value="">Selecione</option>
                <option value="M">Masculino</option>
                <option value="F">Feminino</option>
              </select>
            </div>
            <div class="input-group">
              <label for="idade">Idade:</label>
              <input type="number" id="idade" min="15" max="100" required />
            </div>
            <div class="input-group">
              <label for="peso">Peso (kg):</label>
              <input type="number" id="peso" step="0.1" required />
            </div>
            <div class="input-group">
              <label for="altura">Altura (cm):</label>
              <input type="number" id="altura" required />
            </div>
          </div>
          <label for="atividade">Nível de Atividade:</label>
          <select id="atividade" required>
            <option value="sedentario">Sedentário</option>
            <option value="leve">Leve (1-3 dias/semana)</option>
            <option value="moderada">Moderada (3-5 dias/semana)</option>
            <option value="intensa">Intensa (6-7 dias/semana)</option>
          </select>
          <button type="submit" class="btn">Salvar Perfil</button>
        </form>
    </section>

    <section class="card">
      <h3>Resultados e Objetivos</h3>
      <div class="grid-cards">
        <div class="small-card">
            <h4 class="tooltip-title-wrapper">TMB <span class="tooltip-icon" title="Taxa Metabólica Basal">(?)</span></h4>
            <p id="tmb-resultado">--</p>
        </div>
        <div class="small-card">
            <h4 class="tooltip-title-wrapper">Manutenção <span class="tooltip-icon" title="Calorias para manter peso">(?)</span></h4>
            <p id="manutencao-resultado">--</p>
        </div>
        <div class="small-card">
            <h4 class="tooltip-title-wrapper">Meta (-500 kcal) <span class="tooltip-icon" title="Meta para perda de peso">(?)</span></h4>
            <p id="meta-resultado">--</p>
        </div>
      </div>
    </section>
    
    <section class="card card-ai hidden" id="ai-meal-plan-card">
        <h3>✨ Planejamento Inteligente</h3>
        <p style="margin-bottom: 15px; color: var(--text-secondary);">
            Com base na sua meta calórica de <strong id="ai-meta-display">--</strong> kcal, peça para a IA sugerir um cardápio.
        </p>
        <button id="btn-generate-plan" class="btn btn-ai full-width">Gerar Sugestão de Cardápio ✨</button>
        <div id="ai-plan-result" class="ai-result-box hidden"></div>
    </section>
    
    <section class="card progress-card hidden" id="card-progress">
        <h3 class="flex justify-between">
            Progresso de Hoje
            <a href="#" id="card-link" class="link-small">Registrar Refeição →</a>
        </h3>
        <div class="progress-bar-container">
            <div class="progress-inner" id="progress-inner" style="width: 0%;"></div>
        </div>
        <div class="progress-details">
            <p class="total-calorias-display"><span id="consumido-do-dia">0</span>/<span id="meta-do-dia">--</span> kcal</p>
            <p class="info-text" id="progress-text">Defina seu perfil para calcular a meta.</p>
        </div>
    </section>
  </main>

  <script src="main.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
